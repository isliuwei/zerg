<?php/** * Created by PhpStorm. * User: liuwei * Date: 2017/12/18 * Time: 下午2:56 */namespace app\api\controller\v1;use app\api\validate\IDMustBePositiveInt;use app\api\validate\Count;use app\api\model\Product as ProductModel;use app\lib\exception\ProductException;class Product{    public function getRecent($count = 15)    {        (new Count()) -> goCheck();        $result = ProductModel::getMostRecent($count);        if($result -> isEmpty())        {            throw new ProductException();        }        // 使用 collection 数据集 临时隐藏 指定字段//        $collection = collection($result);//        $result = $collection -> hidden(['summary']);        $products = $result -> hidden(['summary']);        return $products;    }    public function getAllInCategory($id)    {        (new IDMustBePositiveInt()) -> goCheck();        $products = ProductModel::getProductsByCategoryID($id);        if ($products -> isEmpty())        {            throw new ProductException();        }        $products = $products -> hidden(['summary']);        return $products;    }}